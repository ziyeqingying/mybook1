language: node_js
branches:
  only:
  - master
install:
 - npm install -g gitbook-cli
script:
- gitbook build


after_script:
   - cd ./_book
   - git init
   - git config user.name "ziyeqingying"
   - git config user.email "1220167224@qq.com"
   - git add .
   - git commit -m "Update Gitbook By TravisCI With Build $TRAVIS_BUILD_NUMBER"
   - git push --force --quiet "https://ziyeqingying:${GH_TOKEN}@${GH_REF}" master:master
   - git tag v0.0.$TRAVIS_BUILD_NUMBER -a -m "Auto Taged By TravisCI With Build $TRAVIS_BUILD_NUMBER"
   - git push --quiet "https://ziyeqingying:${GH_TOKEN}@${GH_REF}" master:master --tags


